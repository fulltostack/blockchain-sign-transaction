const signRawTx = require('../../src/index');
const expect = require('chai').expect;

describe('Returns signed transaction', () => {
  it('should returns signed transaction for BTC testnet', () => {
    const btcRawTx = '7b22746f74616c5554584f456e7465726564223a302c22726177223a2230323030303030303031303039393734363631626166303039393964343864326633613235633530363239326535373236343732393239316236383734383265616632323730326463363031303030303030303066666666666666663032343034323066303030303030303030303139373661393134336533396262396537336233646439376266303165353938666363633161316562636632366466653838616366346466313530373030303030303030313937366139313463326636383534386331373134393262313864616335643634376230363164366361623361376636383861633030303030303030227d';
    const privateKey = '0db3ebcfe465a67d2ef7cbc75001d39a77f6c0a0070d889d9e6395a70d603336';
    const signedTransaction = signRawTx(btcRawTx, privateKey, 'BTC', 'testnet');

    expect(signedTransaction).to.equal('0200000001009974661baf00999d48d2f3a25c506292e57264729291b687482eaf22702dc6010000006a4730440220491d3777b306680bd961a1f9c651c072c1b2ed0d7a3336f5ebca747e4e9d4548022079ef8638a590c1f1ae6c0413892b4c55b2f9b1f59b5d43c43bfa5e84cd62a873012102e7132eaa114db1f569f3dd001668468b39cc527dda32a93658e0b87288b7de7fffffffff0240420f00000000001976a9143e39bb9e73b3dd97bf01e598fccc1a1ebcf26dfe88acf4df1507000000001976a914c2f68548c171492b18dac5d647b061d6cab3a7f688ac00000000');
  });

  it('should returns signed transaction for DASH testnet', () => {
    const dashRawTx = '7b22746f74616c5554584f456e7465726564223a302c22726177223a2230323030303030303031646634396234656432616435373532366365343632306436333635616665346230303933386166303162363161373632343363393561666437613131383961613031303030303030303066666666666666663032343034323066303030303030303030303139373661393134613662336137346539333434393332356161386334653530383361346630326565356231313961313838616333303435363833623030303030303030313937366139313461666665633434346166326435383134663135343961396639383836373734343631353639643032383861633030303030303030227d';
    const privateKey = '6b3751f267716e08bddae56d10954451731f799ee1988a2cea6543eea832b502';
    const signedTransaction = signRawTx(dashRawTx, privateKey, 'DASH', 'testnet');

    expect(signedTransaction).to.equal('0200000001df49b4ed2ad57526ce4620d6365afe4b00938af01b61a76243c95afd7a1189aa010000006a47304402206ee7c4ee577953547ca8d7c1354c2b5c2b4b8c41a6829d1c7a719f3055a1f1a6022041c7a809194186630b47fbdeac8780636281f9eb638b4675c55fdb6716667fce012102c9e2d504f62c18f4e71cfc8b59f36792f06885bc8e13587da02c092aa29b3a61ffffffff0240420f00000000001976a914a6b3a74e93449325aa8c4e5083a4f02ee5b119a188ac3045683b000000001976a914affec444af2d5814f1549a9f9886774461569d0288ac00000000');
  });

  it('should returns signed transaction for DOGE testnet', () => {
    const dogeRawTx = '7b22746f74616c5554584f456e7465726564223a302c22726177223a2230323030303030303031646634396234656432616435373532366365343632306436333635616665346230303933386166303162363161373632343363393561666437613131383961613031303030303030303066666666666666663032343034323066303030303030303030303139373661393134303530393632393433353431643938643465333163636165316163646466303037316639643461393838616333303435363833623030303030303030313937366139313461666665633434346166326435383134663135343961396639383836373734343631353639643032383861633030303030303030227d';
    const privateKey = '6b3751f267716e08bddae56d10954451731f799ee1988a2cea6543eea832b502';
    const signedTransaction = signRawTx(dogeRawTx, privateKey, 'DOGE', 'testnet');

    expect(signedTransaction).to.equal('0200000001df49b4ed2ad57526ce4620d6365afe4b00938af01b61a76243c95afd7a1189aa010000006b4830450221008ea70e71852edb2cb9bbf58ab60b1d5ef9a7ec22957ac2f242c1d562f8b90a1c02203c66f71df71b8d193eb719d844964677b305bb2fdaac37e9cf59638a06126686012102c9e2d504f62c18f4e71cfc8b59f36792f06885bc8e13587da02c092aa29b3a61ffffffff0240420f00000000001976a914050962943541d98d4e31ccae1acddf0071f9d4a988ac3045683b000000001976a914affec444af2d5814f1549a9f9886774461569d0288ac00000000');
  });

  it('should returns signed transaction for LTC testnet', () => {
    const ltcRawTx = '7b22746f74616c5554584f456e7465726564223a302c22726177223a2230323030303030303031646634396234656432616435373532366365343632306436333635616665346230303933386166303162363161373632343363393561666437613131383961613031303030303030303066666666666666663032343034323066303030303030303030303139373661393134623261323464383032303561636632653238336234313831343932353961666663336636373561323838616333303435363833623030303030303030313937366139313461666665633434346166326435383134663135343961396639383836373734343631353639643032383861633030303030303030227d';
    const privateKey = '6b3751f267716e08bddae56d10954451731f799ee1988a2cea6543eea832b502';
    const signedTransaction = signRawTx(ltcRawTx, privateKey, 'LTC', 'testnet');

    expect(signedTransaction).to.equal('0200000001df49b4ed2ad57526ce4620d6365afe4b00938af01b61a76243c95afd7a1189aa010000006a47304402201ecb240778cff6ad05b5fb9498996323715f9a742b33a5e20f03571e0ce393db0220082a110ad6410368391a0e862d0184f1004d333b80f31398332e1f86fabd3b7f012102c9e2d504f62c18f4e71cfc8b59f36792f06885bc8e13587da02c092aa29b3a61ffffffff0240420f00000000001976a914b2a24d80205acf2e283b418149259affc3f675a288ac3045683b000000001976a914affec444af2d5814f1549a9f9886774461569d0288ac00000000');
  });

  it('should returns signed transaction for ETH', () => {
    const ethRawTx = {
      from: '0x9B74ef6C65Df8BA05dEE82D6e80abD2855C4a6C7',
      nonce: '0x0',
      gasPrice: '0x737be7600',
      gasLimit: '0x5208',
      to: '0x6b630e64Ed4146B29A8720627170c8673f929f71',
      value: '0x186a0',
      data: '',
    };

    const privateKey = '0xf648764a8e1c475a01f4eb08e3167af88d8674dce3b81ae82152eeed128b6ba9';
    const signedTransaction = signRawTx(ethRawTx, privateKey, 'ETH');

    expect(signedTransaction).to.equal('0xf86780850737be7600825208946b630e64ed4146b29a8720627170c8673f929f71830186a0801ca05e07e803ea2c7ddf1805739d53515aaa02cc87e12fb4f69a5ff41eaa39101b3ea04ae761a77ba871df3aee5c088370370d23786eb673876cdf1502ecd870f1396e');
  });

  it('should returns signed transaction for ETC', () => {
    const etcRawTx = {
      from: '0xb72d76063fbb377dc5c69a9c69ec31102c12dfde',
      nonce: '0x100000',
      gasPrice: '0x4a817c800',
      gasLimit: '0x24dd8',
      to: '0x245f5626bec6c00822a25a80f693a61884bc5da3',
      value: '0x186a0',
      data: '',
    };
    const privateKey = '0x300e54edf0d7fdc162a84d2b6f80ed87f5a4897d8f05fb90d3aba752e444481e';
    const signedTransaction = signRawTx(etcRawTx, privateKey, 'ETC');

    expect(signedTransaction).to.equal('0xf86b831000008504a817c80083024dd894245f5626bec6c00822a25a80f693a61884bc5da3830186a0801ba0482f9f46011c65ee6c2a0b6a014c06db977b218c4a4d3ddf940b6450b2d061b1a00fb5663c494b68482be435e94d89577e3d23b8d249be19ba8063770c002e6e97');
  });

});
